{% extends "accounts/registration/base_registration.html" %}
{% load static %}

{% block title %}Register as Player{% endblock %}

{% block role_specific_fields %}
{#
  NOTE: To enable the football field UI, include the following static files in your base template or this template:
  <link rel="stylesheet" href="{% static 'css/football_field.css' %}">
  <script src="{% static 'js/football_field.js' %}"></script>
#}
<div class="mb-3">
    <label class="form-label">Select Your Position(s) on the Field</label>
    <div class="football-field-container">
      <div class="football-field">
        <!-- Field markings -->
        <div class="center-circle"></div>
        <div class="penalty-area top"></div>
        <div class="penalty-area bottom"></div>
        <!-- Position markers -->
        <div class="position-marker" data-position="GK" style="bottom: 5%; left: 50%;">GK</div>
        <div class="position-marker" data-position="CB" style="bottom: 20%; left: 35%;">CB</div>
        <div class="position-marker" data-position="CB" style="bottom: 20%; left: 65%;">CB</div>
        <div class="position-marker" data-position="LB" style="bottom: 30%; left: 20%;">LB</div>
        <div class="position-marker" data-position="RB" style="bottom: 30%; left: 80%;">RB</div>
        <div class="position-marker" data-position="CDM" style="bottom: 40%; left: 50%;">CDM</div>
        <div class="position-marker" data-position="CM" style="bottom: 55%; left: 35%;">CM</div>
        <div class="position-marker" data-position="CM" style="bottom: 55%; left: 65%;">CM</div>
        <div class="position-marker" data-position="CAM" style="bottom: 70%; left: 50%;">CAM</div>
        <div class="position-marker" data-position="LW" style="bottom: 80%; left: 20%;">LW</div>
        <div class="position-marker" data-position="RW" style="bottom: 80%; left: 80%;">RW</div>
        <div class="position-marker" data-position="ST" style="bottom: 90%; left: 50%;">ST</div>
      </div>
      <div class="position-selection-controls mt-2">
        <div class="selected-positions">
          <p>Selected: <span id="selected-positions-display">None</span></p>
          <p>Primary: <span id="primary-position-display">None</span></p>
        </div>
        <input type="hidden" id="positions-input" name="positions" value="">
      </div>
    </div>
    <!-- TODO: Include football_field.css and football_field.js -->
</div>

<div class="row">
    <div class="col-md-6 mb-3">
        <label for="{{ form.height.id_for_label }}" class="form-label">Height (cm)</label>
        {{ form.height }}
        {% if form.height.errors %}
        <div class="invalid-feedback d-block">
            {% for error in form.height.errors %}
            {{ error }}
            {% endfor %}
        </div>
        {% endif %}
    </div>

    <div class="col-md-6 mb-3">
        <label for="{{ form.weight.id_for_label }}" class="form-label">Weight (kg)</label>
        {{ form.weight }}
        {% if form.weight.errors %}
        <div class="invalid-feedback d-block">
            {% for error in form.weight.errors %}
            {{ error }}
            {% endfor %}
        </div>
        {% endif %}
    </div>
</div>

<div class="mb-3">
    <label for="{{ form.preferred_foot.id_for_label }}" class="form-label">Preferred Foot</label>
    {{ form.preferred_foot }}
    {% if form.preferred_foot.errors %}
    <div class="invalid-feedback d-block">
        {% for error in form.preferred_foot.errors %}
        {{ error }}
        {% endfor %}
    </div>
    {% endif %}
</div>

<div class="mb-3">
    <label for="{{ form.parent_email.id_for_label }}" class="form-label">Parent/Guardian Email (Required if under 18)</label>
    {{ form.parent_email }}
    {% if form.parent_email.errors %}
    <div class="invalid-feedback d-block">
        {% for error in form.parent_email.errors %}
        {{ error }}
        {% endfor %}
    </div>
    {% endif %}
    <div class="form-text">
        If you are under 18, please provide your parent or guardian's email address.
    </div>
</div>
{% endblock %} 